var Inst0 = 0;
var Inst1 = 0;
 
function _TypeOfArray(a) {
	let number = true;	
	let string = true;
	for (let i = 0; i < a.length; i++) {
		if (number && (typeof a[i]) != "number") {
			number = false;	
		}
		if (string && (typeof a[i]) != "string") {
			string = false;	
		}
		if (!number && !string)
			break;
	}
	if (number)
		return "number";
	else if (string)
		return "string";
	else
		return "any";
}

function _TypeIsEqual(t1, t2) {
	return JSON.stringify(t1) === JSON.stringify(t2);
}

function _TypeOf(a, step) {
	var t;
	var type = Object.prototype.toString.call(a).slice(8, -1).toLowerCase();	
	if (type == "array") {
		t = {type : type, extra: {elemType: _TypeOfArray(a)}};
	} else if (type == "object") {
		let shape = [];
        if (step === undefined || step > 0) {
            let keys = Object.keys(a);
            let length = Math.min(100, keys.length);
		    for (let i = 0; i < length; i++) {
			    shape.push([keys[i], _TypeOf(a[keys[i]], step === undefined ? 1 : step - 1)]);	
		    }
        }
		t = {type : type, extra: {shape: shape}};
	} else {
		t = {type : type};
	} 
	return t;
}

function _RecordType(loc, a) {
	var t = _TypeOf(a);
    print("~~~TypeInfo:" + loc + ":" + JSON.stringify(t));
}
try { if (Inst0 <= 1000 && typeof (console.log) != "undefined") {_RecordType("<0,11,1>",(console.log)); Inst0++; } } catch(e) {}try { if (Inst1 <= 1000 && typeof (console) != "undefined") {_RecordType("<0,7,1>",(console)); Inst1++; } } catch(e) {}
console.log("This test checks some cases that might be affected by constant folding.");
"abc" + "2.1";
"123" + "2.1";
"123" + "=";
"*" + "123";
!"abc";
!"";
10.3 + 2.1;
10.3 + "2.1";
"10.3" + 2.1;
"10.3" + "2.1";
10.3 + true;
"10.3" + true;
10.3 + false;
"10.3" + false;
true + 2.1;
true + "2.1";
false + 2.1;
false + "2.1";
10.3 - 2.1;
10.3 - "2.1";
"10.3" - 2.1;
"10.3" - "2.1";
10.3 - true;
"10.3" - true;
10.3 - false;
"10.3" - false;
true - 2.1;
true - "2.1";
false - 2.1;
false - "2.1";
10.3 * 2.1;
10.3 * "2.1";
"10.3" * 2.1;
"10.3" * "2.1";
10.3 * true;
"10.3" * true;
10.3 * false;
"10.3" * false;
true * 10.3;
true * "10.3";
false * 10.3;
false * "10.3";
10.3 / 2;
"10.3" / 2;
10.3 / "2";
"10.3" / "2";
10.3 / true;
"10.3" / true;
true / 2;
true / "2";
false / 2;
false / "2";
10.3 % 2.1;
"10.3" % 2.1;
10.3 % "2.1";
"10.3" % "2.1";
10.3 % true;
"10.3" % true;
true % 2;
true % "2";
false % 2;
false % "2";
10.3 << 2.1;
"10.3" << 2.1;
10.3 << "2.1";
"10.3" << "2.1";
10.3 << true;
"10.3" << true;
10.3 << false;
"10.3" << false;
true << 2.1;
true << "2.1";
false << 2.1;
false << "2.1";
10.3 >> 2.1;
"10.3" >> 2.1;
10.3 >> "2.1";
"10.3" >> "2.1";
10.3 >> true;
"10.3" >> true;
10.3 >> false;
"10.3" >> false;
true >> 2.1;
true >> "2.1";
false >> 2.1;
false >> "2.1";
-10.3 >>> 2.1;
"-10.3" >>> 2.1;
-10.3 >>> "2.1";
"-10.3" >>> "2.1";
-10.3 >>> true;
"-10.3" >>> true;
-10.3 >>> false;
"-10.3" >>> false;
true >>> 2.1;
true >>> "2.1";
false >>> 2.1;
false >>> "2.1";
10.3 & 3.1;
"10.3" & 3.1;
10.3 & "3.1";
"10.3" & "3.1";
10.3 & true;
"10.3" & true;
11.3 & true;
"11.3" & true;
10.3 & false;
"10.3" & false;
11.3 & false;
"11.3" & false;
true & 3.1;
true & "3.1";
true & 2.1;
true & "2.1";
false & 3.1;
false & "3.1";
false & 2.1;
false & "2.1";
10.3 | 3.1;
"10.3" | 3.1;
10.3 | "3.1";
"10.3" | "3.1";
10.3 | true;
"10.3" | true;
11.3 | true;
"11.3" | true;
10.3 | false;
"10.3" | false;
11.3 | false;
"11.3" | false;
true | 3.1;
true | "3.1";
true | 2.1;
true | "2.1";
false | 3.1;
false | "3.1";
false | 2.1;
false | "2.1";
10.3 ^ 3.1;
"10.3" ^ 3.1;
10.3 ^ "3.1";
"10.3" ^ "3.1";
10.3 ^ true;
"10.3" ^ true;
11.3 ^ true;
"11.3" ^ true;
10.3 ^ false;
"10.3" ^ false;
11.3 ^ false;
"11.3" ^ false;
true ^ 3.1;
true ^ "3.1";
true ^ 2.1;
true ^ "2.1";
false ^ 3.1;
false ^ "3.1";
false ^ 2.1;
false ^ "2.1";
10.3 == 3.1;
3.1 == 3.1;
"10.3" == 3.1;
"3.1" == 3.1;
10.3 == "3.1";
3.1 == "3.1";
"10.3" == "3.1";
"3.1" == "3.1";
10.3 == true;
1 == true;
"10.3" == true;
"1" == true;
10.3 == false;
0 == false;
"10.3" == false;
"0" == false;
true == 3.1;
true == 1;
true == "3.1";
true == "1";
false == 3.1;
false == 0;
false == "3.1";
false == "0";
true == true;
false == true;
true == false;
false == false;
10.3 != 3.1;
3.1 != 3.1;
"10.3" != 3.1;
"3.1" != 3.1;
10.3 != "3.1";
3.1 != "3.1";
"10.3" != "3.1";
"3.1" != "3.1";
10.3 != true;
1 != true;
"10.3" != true;
"1" != true;
10.3 != false;
0 != false;
"10.3" != false;
"0" != false;
true != 3.1;
true != 1;
true != "3.1";
true != "1";
false != 3.1;
false != 0;
false != "3.1";
false != "0";
true != true;
false != true;
true != false;
false != false;
10.3 > 3.1;
3.1 > 3.1;
"10.3" > 3.1;
"3.1" > 3.1;
10.3 > "3.1";
3.1 > "3.1";
"10.3" > "3.1";
"3.1" > "3.1";
10.3 > true;
0 > true;
"10.3" > true;
"0" > true;
10.3 > false;
-1 > false;
"10.3" > false;
"-1" > false;
true > 0.1;
true > 1.1;
true > "0.1";
true > "1.1";
false > -3.1;
false > 0;
false > "-3.1";
false > "0";
true > true;
false > true;
true > false;
false > false;
10.3 < 3.1;
2.1 < 3.1;
"10.3" < 3.1;
"2.1" < 3.1;
10.3 < "3.1";
2.1 < "3.1";
"10.3" < "3.1";
"2.1" < "3.1";
10.3 < true;
0 < true;
"10.3" < true;
"0" < true;
10.3 < false;
-1 < false;
"10.3" < false;
"-1" < false;
true < 0.1;
true < 1.1;
true < "0.1";
true < "1.1";
false < -3.1;
false < 0.1;
false < "-3.1";
false < "0.1";
true < true;
false < true;
true < false;
false < false;
10.3 >= 3.1;
2.1 >= 3.1;
"10.3" >= 3.1;
"2.1" >= 3.1;
10.3 >= "3.1";
2.1 >= "3.1";
"10.3" >= "3.1";
"2.1" >= "3.1";
10.3 >= true;
0 >= true;
"10.3" >= true;
"0" >= true;
10.3 >= false;
-1 >= false;
"10.3" >= false;
"-1" >= false;
true >= 0.1;
true >= 1.1;
true >= "0.1";
true >= "1.1";
false >= -3.1;
false >= 0;
false >= "-3.1";
false >= "0";
true >= true;
false >= true;
true >= false;
false >= false;
10.3 <= 3.1;
2.1 <= 3.1;
"10.3" <= 3.1;
"2.1" <= 3.1;
10.3 <= "3.1";
2.1 <= "3.1";
"10.3" <= "3.1";
"2.1" <= "3.1";
10.3 <= true;
0 <= true;
"10.3" <= true;
"0" <= true;
10.3 <= false;
-1 <= false;
"10.3" <= false;
"-1" <= false;
true <= 0.1;
true <= 1.1;
true <= "0.1";
true <= "1.1";
false <= -3.1;
false <= 0.1;
false <= "-3.1";
false <= "0.1";
true <= true;
false <= true;
true <= false;
false <= false;
true && true;
true && false;
false && true;
false && false;
1.1 && true;
1.1 && false;
0 && true;
0 && false;
"1.1" && true;
"1.1" && false;
"0" && true;
"0" && false;
true && 1.1;
true && 0;
false && 1.1;
false && 0;
true && "1.1";
true && "0";
false && "1.1";
false && "0";
1.1 && 1.1;
1.1 && 0;
0 && 1.1;
0 && 0;
"1.1" && 1.1;
"1.1" && 0;
"0" && 1.1;
"0" && 0;
1.1 && "1.1";
1.1 && "0";
0 && "1.1";
0 && "0";
"1.1" && "1.1";
"1.1" && "0";
"0" && "1.1";
"0" && "0";
true || true;
true || false;
false || true;
false || false;
1.1 || true;
1.1 || false;
0 || true;
0 || false;
"1.1" || true;
"1.1" || false;
"0" || true;
"0" || false;
true || 1.1;
true || 0;
false || 1.1;
false || 0;
true || "1.1";
true || "0";
false || "1.1";
false || "0";
1.1 || 1.1;
1.1 || 0;
0 || 1.1;
0 || 0;
"1.1" || 1.1;
"1.1" || 0;
"0" || 1.1;
"0" || 0;
1.1 || "1.1";
1.1 || "0";
0 || "1.1";
0 || "0";
"1.1" || "1.1";
"1.1" || "0";
"0" || "1.1";
"0" || "0";
+3.1;
+ +3.1;
+"3.1";
+true;
+false;
-3.1;
- -3.1;
-"3.1";
-true;
-false;
~3;
~~3;
~"3";
~true;
~false;
!true;
!false;
!3;
!0;
10.3 / 0;
"10.3" / 0;
-10.3 / 0;
"-10.3" / 0;
true / 0;
false / 0;
0 / 0;
10.3 / -0;
"10.3" / -0;
-10.3 / -0;
"-10.3" / -0;
true / -0;
false / -0;
0 / -0;
1 / -0;
1 / -0;
1 / - -0;
1 / - - -0;

